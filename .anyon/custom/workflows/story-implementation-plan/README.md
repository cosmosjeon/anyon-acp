# Story Implementation Plan Workflow

**스토리에서 구현 계획까지: AI와 비개발자의 협업 프로세스**

---

## 🎯 목적

스타트업 런치패드와 에픽/스토리 생성 후, **실제 개발 전에** AI와 비개발자가 쉬운 대화를 나누며:
- 모호한 부분을 구체화
- 기술적 선택지를 쉽게 결정
- 완벽한 구현 계획서 작성

**결과**: AI가 100% 자동으로 개발할 수 있는 상세한 계획

---

## 📂 파일 구조

```
story-implementation-plan/
├── workflow.yaml                      # 워크플로우 설정
├── instructions.md                    # 실행 단계 (AI용)
├── template.md                        # 구현 계획서 템플릿
├── checklist.md                       # 검증 체크리스트
├── conversation-guide.md              # 대화 패턴 가이드 (참고용)
├── implementation-plan-template.md    # 계획서 상세 템플릿 (참고용)
└── README.md                          # 이 파일 - 사용 가이드
```

---

## 🚀 사용 방법

### 1. 워크플로우 실행

```bash
# 명령어 + 스토리 파일 경로
/story-implementation-plan anyon-docs/epics/epic-1-사용자-인증/story-1-회원가입.md
```

### 2. AI가 자동으로 처리

```
✓ Epic 문서 로드
✓ Story 문서 로드
✓ 6개 기획 문서 로드 (PRD, UX, Design, TRD, Architecture, ERD)
✓ 코드베이스 분석 시작...
```

### 3. 비개발자 친화적 대화

AI가 **쉬운 한국어**로 질문합니다 (각 질문마다 3-5개 선지):

```
Q: 프로젝트 생성 팝업을 어떻게 만들까요?

1️⃣ 기존 설정 팝업 방식 재활용
   👍 빠르고 안정적
   👎 약간의 제약
   ⭐ 추천

2️⃣ 완전히 새로운 팝업 만들기
   👍 자유로운 디자인
   👎 개발 시간 더 필요

3️⃣ 외부 라이브러리 사용
   👍 고급 기능 많음
   👎 프로젝트 용량 증가

어떤 방식을 선호하시나요? (1/2/3)
```

사용자는 번호만 선택하면 됩니다!

### 4. 상세 계획서 생성

AI가 **개발자/AI용** 상세 계획서를 작성합니다:
- 실제 파일 경로
- 코드 예시
- DB 스키마 변경
- API 설계
- 테스트 계획

### 5. 검토 및 저장

```
계획서를 승인하시겠습니까?

1️⃣ 승인 - 계획서 저장하고 완료
2️⃣ 수정 필요
3️⃣ 처음부터 다시
```

승인하면 계획서가 저장됩니다:
```
anyon-docs/epics/epic-1-사용자-인증/story-1-회원가입-plan.md
```

---

## 🔄 전체 프로세스

```
┌─────────────────────────────────────────────────────────────┐
│  Phase 1: 문서 생성 (이미 완료)                              │
├─────────────────────────────────────────────────────────────┤
│  /startup-launchpad                                         │
│  → 6개 문서 (PRD, UX, Design, TRD, Architecture, ERD)      │
└─────────────────────────────────────────────────────────────┘
                           ↓
┌─────────────────────────────────────────────────────────────┐
│  Phase 2: 에픽/스토리 생성 (이미 완료)                       │
├─────────────────────────────────────────────────────────────┤
│  /startup-epics-stories                                     │
│  → 8-15개 에픽, 40-80개 스토리                              │
└─────────────────────────────────────────────────────────────┘
                           ↓
┌─────────────────────────────────────────────────────────────┐
│  Phase 3: 계획 구체화 (이 워크플로우) ⭐                     │
├─────────────────────────────────────────────────────────────┤
│  각 스토리마다:                                              │
│  0. AI가 코드베이스 검토 (기존 코드 탐색)                    │
│  1. AI가 스토리 분석 (비개발자용 요약)                       │
│  2. AI가 쉬운 질문 (동적 객관식 3-5개)                       │
│  3. 비개발자가 선택                                          │
│  4. AI가 구현 계획서 작성 (개발자용 상세)                    │
│  5. 비개발자가 최종 승인                                     │
│  → "Implementation Plan" 문서 생성                          │
└─────────────────────────────────────────────────────────────┘
                           ↓
┌─────────────────────────────────────────────────────────────┐
│  Phase 4: 자동 개발                                          │
├─────────────────────────────────────────────────────────────┤
│  AI가 구현 계획서만 보고 100% 자동 개발                      │
│  - 코드 작성                                                 │
│  - 테스트 작성                                               │
│  - DB 마이그레이션                                           │
│  - 통합                                                      │
└─────────────────────────────────────────────────────────────┘
```

---

## 🎭 역할 분담

### 👤 비개발자의 역할
- ✅ **의사결정**: 쉬운 질문에 선지 선택 (1, 2, 3...)
- ✅ **추가 요구사항**: 원하는 기능 추가
- ✅ **최종 승인**: 계획서 검토 및 승인

### 🤖 AI의 역할
- ✅ **코드베이스 검토**: 기존 코드 패턴, 재사용 가능 코드 탐색
- ✅ **분석**: 스토리 + 기존 코드 통합 분석
- ✅ **질문**: 쉬운 용어로 선택지 제시 (동적 객관식)
- ✅ **제안**: 각 선지의 장단점 설명
- ✅ **문서화**: 개발자용 상세 구현 계획서 작성
- ✅ **실행**: 승인된 계획대로 자동 개발

---

## 📋 입력 문서

이 워크플로우는 다음 문서들을 자동으로 읽습니다:

### 필수 문서 (고정 경로)
```
anyon-docs/
├── prd.md              # 제품 요구사항
├── ux-design.md        # UX 설계
├── design-guide.md     # 디자인 가이드
├── trd.md              # 기술 요구사항
├── architecture.md     # 아키텍처
└── erd.md              # 데이터베이스 설계
```

### Epic & Story (사용자 지정)
```
anyon-docs/epics/epic-N-{name}/
├── epic.md                # Epic 문서 (먼저 읽음)
└── story-N-{name}.md      # Story 문서
```

---

## 📊 결과물

### 생성되는 파일
```
anyon-docs/epics/epic-N-{name}/
├── epic.md
├── story-N-{name}.md          # 원본 스토리
└── story-N-{name}-plan.md     # 🆕 구현 계획서
```

### 구현 계획서 내용
- ✅ 코드베이스 분석 결과 (재사용/수정/신규)
- ✅ UI/UX 구현 (실제 파일 경로)
- ✅ API 설계 (엔드포인트, 스키마)
- ✅ DB 스키마 변경 (Migration SQL)
- ✅ State 관리 (코드 예시)
- ✅ Validation & Error Handling
- ✅ 테스트 전략
- ✅ 구현 체크리스트
- ✅ 모든 기술적 결정 기록

---

## 💡 핵심 원칙

### 1. **대화는 비개발자용, 계획서는 개발자용**
- 질문: 쉬운 용어, 실생활 비유
- 계획서: 기술적 상세, 코드 예시

### 2. **동적 객관식 (3-5개 선지)**
- 상황마다 다른 선지 생성
- 각 선지의 장단점 명시
- 추천 선지 제시

### 3. **코드베이스 기반 결정**
- 기존 코드 패턴 분석
- 재사용 vs 신규 작성 판단
- 실제 파일 경로 명시

### 4. **모호함 제거**
- 스토리의 "무엇을"을 "어떻게"로 변환
- 100% 구체화

### 5. **추적 가능**
- 모든 결정 이유 기록
- 나중에 "왜 이렇게 만들었지?" → 계획서 확인

---

## 🎯 기대 효과

### Before (스토리만 있을 때)
```
❌ "이 팝업을 어떻게 만들지?"
❌ "중복 이름은 어떻게 처리하지?"
❌ "색상 선택은 몇 개?"
❌ AI가 추측해서 만듦 → 재작업 필요
```

### After (계획 구체화 후)
```
✅ 모든 의사결정 완료
✅ 예외 케이스 100% 정의
✅ 기존 코드와 일관성 확보
✅ AI가 정확히 구현
✅ 한 번에 완성
```

---

## 📚 참고 문서

- `conversation-guide.md` - AI 질문 패턴 가이드
- `implementation-plan-template.md` - 계획서 상세 템플릿
- `checklist.md` - 계획서 검증 체크리스트

---

## 🔧 문제 해결

### Q: 스토리 파일을 찾을 수 없다고 나와요
**A**: 경로가 올바른지 확인하세요. 프로젝트 루트 기준 상대 경로입니다.
```
✅ 올바른 경로: anyon-docs/epics/epic-1-사용자-인증/story-1-회원가입.md
❌ 잘못된 경로: /Users/cosmos/.../anyon-docs/epics/...
```

### Q: 6개 기획 문서가 없다고 나와요
**A**: `/startup-launchpad` 워크플로우를 먼저 실행해야 합니다.

### Q: 질문이 너무 기술적이에요
**A**: AI에게 "더 쉽게 설명해주세요"라고 요청하세요.

### Q: 선지 외에 다른 방법을 원해요
**A**: "기타" 옵션을 선택하거나 추가 요구사항에 작성하세요.

---

**준비되셨나요?**

스토리 경로와 함께 워크플로우를 실행해보세요:

```bash
/story-implementation-plan anyon-docs/epics/epic-1-사용자-인증/story-1-회원가입.md
```

AI와 쉬운 대화로 완벽한 구현 계획을 만들어보세요! 🚀
