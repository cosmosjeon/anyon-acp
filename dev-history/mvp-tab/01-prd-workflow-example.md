# PRD 워크플로우 예시 (펫시터 매칭 서비스) - 하이브리드 방식

## 프롬프트 로직 흐름

```
버튼 클릭 (PlanningDocsPanel.tsx)
    ↓
handleStartWorkflow(step)
    ↓
getWorkflowPrompt(step) → STARTUP_PRD_PROMPT 반환
    ↓
onStartNewWorkflow(workflowPrompt)
    ↓
Claude Code 세션에 전달 → Step 1~5 실행
    ↓
prd.md 파일 생성 → 폴링으로 감지 → UI 업데이트
```

---

## 예시 대화 흐름 (하이브리드 방식)

### Step 1: 아이디어 듣기 (열린 질문)

**Claude:**
```
안녕하세요! 어떤 서비스를 만들고 싶으신가요?
머릿속에 있는 아이디어를 편하게 말씀해주세요.
완성된 형태가 아니어도 괜찮아요!
```

**User:**
```
반려동물 키우는 사람들이 출장이나 여행 갈 때
믿을 수 있는 펫시터를 찾을 수 있는 서비스요
```

**Claude:**
```
펫시터 매칭 서비스군요!
제가 이해한 게 맞는지 확인해볼게요:

- 반려동물 보호자가 외출할 때
- 검증된 펫시터를 찾아서 연결해주는 서비스

맞나요?
```

**User:** `네 맞아요`

---

### Step 2: 구체화 질문 (객관식)

**Claude:**
```
이 서비스를 쓰는 사람은 누구인가요?

1. 1인 가구 직장인 (출장 많은 분들)
2. 맞벌이 가정 (휴가/여행 시)
3. 노령 반려동물 보호자 (특별 케어 필요)
4. 기타 (직접 입력)
```

**User:** `1`

**Claude:**
```
웹으로 만들 건가요, 앱으로 만들 건가요?

1. 모바일 앱 (iOS/Android) (추천)
2. 웹 (PC에서 브라우저로)
3. 둘 다
4. 기타 (직접 입력)
```

**User:** `1`

**Claude:**
```
지금은 이 문제를 어떻게 해결하고 있나요?

1. 지인한테 부탁 (미안함)
2. 펫호텔 이용 (비싸고 스트레스 걱정)
3. 기존 펫시터 앱 (검증 부족)
4. 기타 (직접 입력)
```

**User:** `2, 3`

**Claude:**
```
기존 펫시터 앱의 가장 큰 문제는 뭐였나요?

1. 펫시터가 믿을 만한지 모름 (검증 부족)
2. 돌봄 중 상황을 알 수 없음 (불안함)
3. 가격이 불투명함
4. 기타 (직접 입력)
```

**User:** `1, 2`

---

### Step 3: 핵심 기능 정리 (객관식)

**Claude:**
```
지금까지 나온 핵심 기능이에요:

1. 펫시터 검증 시스템 (신분증, 범죄이력, 교육이수) (추천)
2. 실시간 사진 리포트 전송 (추천)
3. 날짜/위치 기반 펫시터 검색
4. 채팅 기능
5. 결제/정산 시스템
6. 리뷰/평점 시스템

이 중에서 MVP(첫 버전)에 꼭 들어가야 할 건 뭔가요?
나머지는 나중에 추가할 수 있어요. (복수 선택 가능)
```

**User:** `1, 2, 3, 5`

**Claude:**
```
알겠어요! 정리하면:

**MVP 필수**
- 펫시터 검증 시스템
- 실시간 사진 리포트
- 날짜/위치 기반 검색
- 결제/정산

**나중에 추가 (v2)**
- 채팅 기능
- 리뷰/평점 시스템

맞나요?
```

**User:** `네!`

---

### Step 4: 오픈소스 검색 및 제안

**Claude:**
```
좋아요! 만드시려는 서비스와 비슷한 오픈소스 프로젝트가
있는지 찾아볼게요. 이미 만들어진 걸 활용하면
시간을 많이 아낄 수 있거든요!
```

*[WebSearch 실행: "pet sitter matching platform open source github"]*

**Claude:**
```
검색 결과를 정리해봤어요!

🔷 **Rover Clone (pet-care-platform)**
비슷한 펫케어 매칭 플랫폼이에요.
사용자 인증, 예약 시스템, 결제 기능이 이미 구현되어 있어요.
이걸 가져다가 검증 시스템이랑 리포트 기능만 추가하면
처음부터 만드는 것보다 훨씬 빠를 수 있어요.

👉 https://github.com/example/pet-care-platform
한번 들어가서 구경해보세요!

🔶 **Firebase Auth + Cloud Storage**
실시간 사진 리포트 기능을 만들 때 쓸 수 있어요.
쉽게 말해 사진을 저장하고 실시간으로 전송하는 도구예요.
펫시터가 사진 찍으면 바로 보호자 앱에 뜨게 할 수 있어요.

👉 https://firebase.google.com 참고해보세요.

어떤 방향으로 가실래요?
1. 오픈소스 프로젝트 위에서 시작하기 (추천)
2. Firebase만 참고하고 직접 만들기
3. 오픈소스 없이 처음부터 만들기
```

**User:** `2`

**Claude:**
```
알겠어요! Firebase를 활용해서 실시간 리포트 기능을 만들고,
나머지는 직접 개발하는 방향으로 가겠습니다.
```

---

### Step 5: PRD 문서 생성

**Claude:**
```
이제 지금까지 정리한 내용을 문서로 만들어볼게요!
```

*[prd.md 생성]*

**Claude:**
```
PRD가 완성되었습니다! 🎉

📍 저장 위치: anyon-docs/planning/prd.md

다음으로 UX 디자인을 진행하면
실제로 어떤 화면들이 필요한지 구체화할 수 있어요.
```

---

## 예시 결과물 (prd.md)

```markdown
# PRD (Product Requirements Document)

**작성일:** 2025-12-19

---

## 1. 제품 개요

**서비스 유형:** 모바일 앱 (iOS/Android)

**한 줄 정의:** 반려동물 보호자와 검증된 펫시터를 연결하는 매칭 플랫폼

---

## 2. 해결하려는 문제

- 출장/여행 시 반려동물을 맡길 곳이 없음
- 지인에게 부탁하기 미안함
- 펫호텔은 반려동물이 스트레스 받을까 걱정
- 기존 펫시터 앱은 검증이 부족해서 믿음이 안 감
- 돌봄 중 상황을 알 수 없어서 불안함

---

## 3. 타겟 사용자

- 서울 거주 20-30대 1인 가구 직장인
- 출장이 잦은 전문직 종사자
- 반려동물을 키우는 사람

---

## 4. 핵심 기능

### MVP 필수 기능
1. **펫시터 검증 시스템** - 신분증, 범죄이력, 교육이수 확인
2. **실시간 사진 리포트** - 돌봄 중 사진 전송으로 안심
3. **날짜/위치 기반 검색** - 원하는 날짜에 근처 펫시터 찾기
4. **결제/정산 시스템** - 안전결제 및 펫시터 정산

### 향후 추가 기능 (v2+)
- 채팅 기능
- 리뷰/평점 시스템
- 펫시터 구독 모델

---

## 5. 참고 오픈소스

**Firebase (실시간 리포트 기능)**
- 사진 저장 및 실시간 전송에 활용
- https://firebase.google.com

---

## 6. 다음 단계

이 PRD를 바탕으로:
1. **UX 디자인** - 화면 구성과 사용자 흐름 설계
2. **기술 설계** - 어떤 기술로 만들지 결정
3. **개발 시작** - 실제 코딩

을 진행합니다.
```

---

## 플로우 특징

### 하이브리드 방식의 장점

| 단계 | 방식 | 이유 |
|------|------|------|
| Step 1 | 열린 질문 | 아이디어를 자유롭게 표현 |
| Step 2 | 객관식 (동적) | 맥락 기반 선지로 빠른 선택 |
| Step 3 | 객관식 (복수) | 기능 우선순위 명확히 결정 |
| Step 4 | 오픈소스 제안 | 시간 절약 가능성 제시 |
| Step 5 | 자동 생성 | 대화 내용 종합 |

### 객관식 선지 생성 규칙

1. **4-6개 선지** (너무 많으면 부담)
2. **마지막에 항상 "기타 (직접 입력)"** 포함
3. **추천 옵션에 `(추천)` 표시**
4. **복수 선택 가능**한 경우 명시
5. **사용자 답변 기반으로 동적 생성** (미리 고정된 선지 X)

### 핵심 원칙

1. **처음엔 열린 질문** - 아이디어를 자유롭게 듣기
2. **구체화는 객관식** - 맥락 기반 동적 선지
3. **피드백/평가 X** - 구체화만
4. **비개발자 친화적** - 쉬운 말로

---

## 변경 이력

| 날짜 | 변경 내용 |
|------|----------|
| 2025-12-19 | 하이브리드 방식으로 전면 재작성 |
| 2025-12-19 | 새 플로우에 맞게 전면 재작성 |
